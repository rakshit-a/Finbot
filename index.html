<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Priyanshi</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    
    <style>
        /* --- CORE DESIGN --- */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            height: 100vh; /* Force single screen height */
            width: 100vw;
            overflow: hidden; /* No scrolling allowed */
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- GLASS CARD --- */
        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            width: 90%;
            max-width: 900px;
            height: 85vh; /* Fixed height to keep it on one screen */
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            transition: all 0.5s ease;
        }

        /* Wide view for the last slide */
        .glass-card.wide-view {
            max-width: 95vw;
        }

        h1 { font-family: 'Dancing Script', cursive; font-size: 3.5rem; margin: 0 0 20px 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        p { font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px; }

        /* --- PHOTOS (Slide 2) --- */
        .photo-container { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
        .memory-photo { width: 140px; height: 140px; object-fit: cover; border-radius: 15px; border: 3px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: transform 0.3s; }
        .memory-photo:hover { transform: scale(1.1) rotate(2deg); }

        /* --- "WHY YOU" LAYOUT (Slide 3) --- */
        .why-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            gap: 20px;
        }
        
        .side-photos {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .side-pic {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            border: 3px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .side-pic.left { transform: rotate(-5deg); }
        .side-pic.right { transform: rotate(5deg); }

        .center-text {
            background: rgba(0,0,0,0.1);
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            text-align: left;
        }

        /* --- FINALE LAYOUT (Slide 5) --- */
        .finale-grid {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            gap: 20px;
        }

        /* Video Container - RESTRICTED HEIGHT */
        .video-wrapper {
            flex: 0 0 auto; /* Don't stretch */
            height: 60vh;   /* Takes up 60% of screen height */
            width: auto;    /* Width adjusts automatically */
            aspect-ratio: 9/16; /* Assumes vertical phone video */
            border-radius: 15px;
            overflow: hidden;
            border: 4px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            background: black;
        }

        .finale-video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures video fills the box */
        }

        .side-message {
            flex: 1;
            font-family: 'Dancing Script', cursive;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .side-message h2 { font-size: 3.5rem; line-height: 1.2; text-shadow: 3px 3px 6px rgba(0,0,0,0.3); margin: 0; }
        .side-message h3 { font-size: 2.5rem; font-weight: normal; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin: 0; }

        /* --- BUTTONS --- */
        .btn { background: white; color: #e73c7e; font-weight: bold; padding: 12px 35px; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: transform 0.2s; text-transform: uppercase; margin-top: 10px; }
        .btn:hover { transform: translateY(-3px); background: #fff0f5; }

        /* --- UTILS --- */
        .slide { display: none; width: 100%; height: 100%; }
        .slide.active { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        #runaway-btn { position: relative; transition: all 0.1s; }
        
        /* Hearts BG */
        .hearts { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .heart { position: absolute; background: rgba(255,255,255,0.3); transform: rotate(45deg); width: 20px; height: 20px; animation: fly 10s linear infinite; bottom: -100px; }
        .heart:before, .heart:after { content:''; position: absolute; width: 20px; height: 20px; background: inherit; border-radius: 50%; }
        .heart:before { top: -10px; left: 0; }
        .heart:after { left: -10px; top: 0; }
        @keyframes fly { 0% { transform: translateY(0) rotate(45deg) scale(0.5); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateY(-120vh) rotate(45deg) scale(1.2); opacity: 0; } }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="a.mp3" type="audio/mpeg">
    </audio>

    <div class="hearts" id="heart-container"></div>

    <div class="glass-card" id="main-card">
        
        <div id="slide1" class="slide active">
            <h1>Happy Birthday Priyanshi! ‚ù§Ô∏è</h1>
            <p>I created a little universe just for you. Put your volume up.</p>
            <button class="btn" onclick="startJourney()">Enter the Surprise</button>
        </div>

        <div id="slide2" class="slide">
            <h1>Our Journey</h1>
            <div class="photo-container">
                <img src="p1.jpeg" class="memory-photo" onerror="this.src='p1.jpg'">
                <img src="p2.jpeg" class="memory-photo" onerror="this.src='p2.jpg'">
                <img src="p3.jpeg" class="memory-photo" onerror="this.src='p3.jpg'">
            </div>
            <p>From the silly moments to the big milestones, every second with you has been my favorite adventure.</p>
            <button class="btn" onclick="nextSlide(3)">Continue...</button>
        </div>

        <div id="slide3" class="slide">
            <h1>Why You?</h1>
            
            <div class="why-container">
                <div class="side-photos">
                    <img src="p4.jpeg" class="side-pic left" onerror="this.src='p4.jpg'">
                    <img src="p5.jpeg" class="side-pic left" onerror="this.src='p5.jpg'">
                </div>

                <div class="center-text">
                    <p style="margin:0;">
                        1. Because you have the kindest heart.<br><br>
                        2. Because you make me laugh when I'm tired.<br><br>
                        3. Because you are my home.<br><br>
                        4. Because you are my everything.
                    </p>
                </div>

                <div class="side-photos">
                    <img src="p6.jpeg" class="side-pic right" onerror="this.src='p6.jpg'">
                    <img src="p7.jpeg" class="side-pic right" onerror="this.src='p7.jpg'">
                </div>
            </div>

            <button class="btn" onclick="nextSlide(4)" style="margin-top: 20px;">One Last Challenge</button>
        </div>

        <div id="slide4" class="slide">
            <h1>Wait!</h1>
            <p>You didn't think it would be that easy, did you?</p>
            <p><strong>Catch the button to unlock your gift!</strong></p>
            <button id="runaway-btn" class="btn" onmouseover="moveButton()" onclick="nextSlide(5)">Open Gift üéÅ</button>
        </div>

        <div id="slide5" class="slide">
            <div class="finale-grid">
                
                <div class="side-message">
                    <h2>Happy Birthday<br>Priyanshi!</h2>
                </div>

                <div class="video-wrapper">
                    <video id="final-video" class="finale-video" controls>
                        <source src="c.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>

                <div class="side-message">
                    <h3>Wishing you a<br>lifetime of<br>happiness!</h3>
                </div>

            </div>
        </div>

    </div>

    <script>
        function startJourney() {
            var music = document.getElementById("bg-music");
            music.volume = 0.5; 
            music.play().catch(e => console.log(e));
            nextSlide(2);
        }

        function nextSlide(id) {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById('slide' + id).classList.add('active');
            
            if(id === 5) {
                document.getElementById('main-card').classList.add('wide-view');
                document.getElementById("bg-music").pause();
                document.getElementById("final-video").play();
                launchConfetti();
                setTimeout(launchConfetti, 1000); 
            }
        }

        let escapeCount = 0;
        function moveButton() {
            if (escapeCount < 6) {
                const btn = document.getElementById('runaway-btn');
                const card = document.querySelector('.glass-card');
                const maxX = card.clientWidth / 2 - 100;
                const maxY = card.clientHeight / 2 - 50;
                const x = (Math.random() - 0.5) * maxX * 1.5; 
                const y = (Math.random() - 0.5) * maxY * 1.5;
                btn.style.transform = `translate(${x}px, ${y}px)`;
                escapeCount++;
            }
        }

        function launchConfetti() {
            var duration = 4 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 999 };
            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function createHearts() {
            const container = document.getElementById('heart-container');
            for(let i=0; i<20; i++){
                let heart = document.createElement('div');
                heart.className = 'heart';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 5 + 5 + 's';
                heart.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(heart);
            }
        }
        createHearts();
    </script>
</body>
</html>
